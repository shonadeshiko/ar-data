<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>AR ãƒã‚¹ã‚¿ãƒ¼ - ãƒãƒ¼ã‚«ãƒ¼ç‰ˆ</title>
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
  <style>
    body { margin: 0; overflow: hidden; }
    #instructions {
      position: fixed;
      top: 10px;
      left: 10px;
      background: rgba(0,0,0,0.8);
      color: white;
      padding: 15px;
      border-radius: 5px;
      z-index: 1000;
      font-family: sans-serif;
      font-size: 13px;
      max-width: 320px;
    }
    #instructions a {
      color: #4af;
      text-decoration: none;
    }
  </style>
</head>
<body>
  
  <div id="instructions">
    <strong>ğŸ“± ä½¿ã„æ–¹</strong><br>
    1. ã‚«ãƒ¡ãƒ©ã‚’è¨±å¯<br>
    2. <a href="https://raw.githack.com/AR-js-org/AR.js/master/data/images/hiro.png" target="_blank">ã“ã®ãƒãƒ¼ã‚«ãƒ¼</a>ã‚’ç”»é¢ã«è¡¨ç¤º<br>
    3. ã‚«ãƒ¡ãƒ©ã§ãƒãƒ¼ã‚«ãƒ¼ã‚’æ˜ ã™<br>
    <br>
    <small>ğŸ’¡ ãƒãƒ¼ã‚«ãƒ¼ã‚’PCã‚„ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã®ç”»é¢ã«è¡¨ç¤ºã—ã¦ã€ã‚¹ãƒãƒ›ã§æ’®å½±ã—ã¦ãã ã•ã„</small>
  </div>

  <a-scene
    embedded
    arjs="sourceType: webcam; debugUIEnabled: false;">
    
    <a-assets>
      <img id="poster" src="poster.jpg" crossorigin="anonymous">
    </a-assets>
    
    <a-marker preset="hiro">
      <!-- ãƒã‚¹ã‚¿ãƒ¼è¡¨ç¤º -->
      <a-plane 
        material="src: #poster; transparent: true; opacity: 1;" 
        width="2" 
        height="3" 
        position="0 1.5 0"
        rotation="-90 0 0">
      </a-plane>
      
      <!-- ç•ªå·è¡¨ç¤º -->
      <a-text 
        value="POSTER 1" 
        position="0 0.1 0" 
        rotation="-90 0 0"
        align="center" 
        color="#FFFF00"
        width="4">
      </a-text>
      
      <!-- æ  -->
      <a-box 
        position="0 1.5 -0.05" 
        width="2.1" 
        height="3.1" 
        depth="0.1"
        material="color: #FF0000; opacity: 0.3"
        rotation="-90 0 0">
      </a-box>
    </a-marker>

    <a-entity camera></a-entity>
  </a-scene>

  <script>
    console.log('ãƒãƒ¼ã‚«ãƒ¼ãƒ™ãƒ¼ã‚¹ARèµ·å‹•');
    
    // ãƒãƒ¼ã‚«ãƒ¼æ¤œå‡ºã‚¤ãƒ™ãƒ³ãƒˆ
    const marker = document.querySelector('a-marker');
    marker.addEventListener('markerFound', () => {
      console.log('ãƒãƒ¼ã‚«ãƒ¼æ¤œå‡ºï¼');
      document.getElementById('instructions').innerHTML = 
        '<strong style="color: #0f0;">âœ… ãƒãƒ¼ã‚«ãƒ¼æ¤œå‡ºä¸­</strong><br>ãƒã‚¹ã‚¿ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™';
    });
    
    marker.addEventListener('markerLost', () => {
      console.log('ãƒãƒ¼ã‚«ãƒ¼å–ªå¤±');
      document.getElementById('instructions').innerHTML = 
        '<strong style="color: #f90;">âš ï¸ ãƒãƒ¼ã‚«ãƒ¼ã‚’æ¢ã—ã¦ã„ã¾ã™...</strong><br>ãƒãƒ¼ã‚«ãƒ¼ã‚’ã‚«ãƒ¡ãƒ©ã«æ˜ ã—ã¦ãã ã•ã„';
    });
  </script>
</body>
</html>
